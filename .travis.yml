language: cpp

matrix:
  include:
    - os: linux
      dist: trusty
      env: USE_CC=gcc-4.4 USE_CXX=g++-4.4

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-4.4
      - g++-4.4-multilib
      - gcc-4.4
      - gcc-4.4-multilib

# Basic coding standard checks:
# - Uses spaces, not tabs.
# - No trailing whitespace.
before_install:
  - "if git grep -n $'\t'          *.cpp *.c *.hpp *.h; then echo 'Please replace tabs with spaces in source files.';     false; fi"
  - "if git grep -n '[[:blank:]]$' *.cpp *.c *.hpp *.h; then echo 'Please remove trailing whitespace from source files.'; false; fi"

script:
  - mkdir -p build
  - cd build
  - cmake -DENABLE_CLILOADER=1 -DCMAKE_C_COMPILER=$USE_CC -DCMAKE_CXX_COMPILER=$USE_CXX ..
  - make -j 4
